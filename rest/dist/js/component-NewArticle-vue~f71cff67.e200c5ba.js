(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["component-NewArticle-vue~f71cff67","component-NavHeader-vue~f71cff67"],{"10ff":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavHeader"),a("div",[a("table",{staticClass:"form-group"},[a("tr",[a("th",[t._v("Title:")]),a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),a("br"),a("tr",[a("th",[t._v("Slug:")]),a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.slug,expression:"slug"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.slug},on:{input:function(e){e.target.composing||(t.slug=e.target.value)}}})])]),a("br"),a("tr",[a("th",[t._v("Category:")]),a("th",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.check_category,expression:"check_category"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.check_category=e.target.multiple?a:a[0]}}},t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}),0)])]),a("br"),a("tr",[a("th",[t._v("Tags:")]),a("th",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.check_tags,expression:"check_tags"}],staticClass:"form-control",attrs:{multiple:"multiple"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.check_tags=e.target.multiple?a:a[0]}}},t._l(t.tags,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}),0)])])]),a("br"),a("div",[a("mavon-editor",{attrs:{toolbars:t.toolbars},on:{save:t.$save}})],1)])],1)},o=[],s=a("cce9"),i={name:"NewArticle",data(){return{content:"",slug:"",tags:[],categories:"",check_category:"",check_tags:[],title:"",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,mark:!0,superscript:!0,quote:!0,ol:!0,link:!0,imagelink:!0,help:!0,code:!0,subfield:!0,fullscreen:!0,readmodel:!0,undo:!0,trash:!0,save:!0,navigation:!0}}},components:{NavHeader:s["default"]},mounted(){this.$axios.get("/api/categories",{headers:{Authorization:"Bearer "+this.getCookie("token")}}).then(t=>{this.categories=t.data}),this.$axios.get("/api/tags",{headers:{Authorization:"Bearer "+this.getCookie("token")}}).then(t=>{this.tags=t.data})},methods:{$save(t,e){this.$axios.post("/api/article",{title:this.title,content:t,slug:this.slug,tag_ids:this.check_tags,category_id:this.check_category},{headers:{Authorization:"Bearer "+this.getCookie("token")}}).then(t=>{200===t.status?alert("新建文章成功"):alert("新建文章失败")})}}},n=i,l=a("2877"),c=Object(l["a"])(n,r,o,!1,null,"4684ac36",null);c.options.__file="NewArticle.vue";e["default"]=c.exports},"14f6":function(t,e,a){t.exports=a.p+"img/github.e4f2e9cd.svg"},"735f":function(t,e,a){t.exports=a.p+"img/@.67105628.svg"},8238:function(t,e,a){t.exports=a.p+"img/archive.b140302a.svg"},ac9d:function(t,e,a){t.exports=a.p+"img/home.89e3a3df.svg"},cce9:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{attrs:{id:"top"}},[r("ul",[r("li",[r("router-link",{staticClass:"no-botterm",attrs:{to:{path:"/"}}},[r("img",{attrs:{src:a("ac9d")}}),t._v("Home")])],1),r("li",[r("router-link",{staticClass:"no-botterm",attrs:{to:{path:"/axis"}}},[r("img",{attrs:{src:a("8238")}}),t._v("Axis")])],1),r("li",[r("router-link",{staticClass:"no-botterm",attrs:{to:{path:"/about"}}},[r("img",{attrs:{src:a("735f")}}),t._v("About")])],1),t._m(0),r("li",[r("router-link",{staticClass:"no-botterm",attrs:{to:{path:"/manage"}}},[r("img",{attrs:{src:a("f955")}}),t._v("Manage")])],1)])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"no-botterm",attrs:{href:"https://github.com/buglan"}},[r("img",{attrs:{src:a("14f6")}}),t._v("Github")])])}],s={name:"NavHeader",data(){return{}}},i=s,n=a("2877"),l=Object(n["a"])(i,r,o,!1,null,"77f941a7",null);l.options.__file="NavHeader.vue";e["default"]=l.exports},f955:function(t,e,a){t.exports=a.p+"img/manager.9218c66f.svg"}}]);